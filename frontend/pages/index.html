<style>
  body {
    margin: 0;
    display: grid;
    grid-template-rows: auto 1fr;
    justify-items: center;
  }

  body * {
    box-sizing: border-box;
  }

  .top-bar {
    width: 100%;
    display: grid;
    grid-template-columns: 1fr auto;
    align-items: center;
    padding: 10px;
    gap: 10px;
    border-bottom: 1px solid lightgrey;
  }

  .container {
    width: 600px;
    padding-top: 20px;
    display: grid;
    grid-template-columns: auto auto auto;
    grid-template-rows: auto auto 1fr;
    align-content: start;
    gap: 10px;
    padding-bottom: 50px;
  }

  .container input,
  .container textarea {
    grid-column: span 3;
    resize: none;
  }

  .container input {
    font-size: 32px;
  }
</style>

<div class="top-bar">
  <div></div>
  <button onclick="clearCookieAndReedirect()">Logout</button>
</div>

<div id="container" class="container">
  <button onclick="doGeneratePositive()">Positive</button>
  <button>Neutral</button>
  <button>Negative</button>
  <input placeholder="Article title" />
  <textarea placeholder="Article text"></textarea>
  <div id="err-msg"></div>
</div>

<script src="public/scripts/utils.js"></script>
<script>
  const clearCookieAndReedirect = () => {
    document.cookie = "";
    window.location = "/login";
  };

  const doGeneratePositive = async () => {
    const prompt =
      "Continue this news article, in a positive light, title: 'Donald trump gets arrested', text: ";

    const { error } = await doPostAndStreamResponse({
      url: "/api/openai/v1/completions",
      reqBody: {
        model: "curie",
        prompt,
        max_tokens: 100,
        stream: true,
      },
      onDataRecieved: data => console.log(data),
    });

    console.log("error: ", error);
  };
</script>
